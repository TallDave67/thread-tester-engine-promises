@startuml
participant ChildThread
participant MainThread
participant Promise
participant Future

activate MainThread

MainThread -> ChildThread: Start
activate ChildThread

alt Child Thread Processing
    ChildThread -> Promise: Set value
    activate Promise
    alt Promise Fulfilled
        Promise -> Future: Set value
        activate Future
        Future -> MainThread: Get value
        deactivate Future
    else Promise Not Fulfilled
        Future -> MainThread: Wait
        Future -> ChildThread: Wait
    end
    deactivate Promise
end

deactivate ChildThread

@enduml